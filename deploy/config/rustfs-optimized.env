# RustFS Optimized Configuration for High Write Performance
# This configuration is optimized for write-heavy workloads

# Basic Configuration
RUSTFS_VOLUMES=/data/rustfs
RUSTFS_ADDRESS=:9001
RUSTFS_ACCESS_KEY=rustfsadmin
RUSTFS_SECRET_KEY=rustfsadmin
RUSTFS_CONSOLE_ENABLE=true

# Scanner Performance Configuration
# Options: disabled, low_load_only, normal, aggressive
# - disabled: Completely disable scanner (best write performance)
# - low_load_only: Only scan when system load is low (recommended)
# - normal: Regular scanning
# - aggressive: Intensive scanning for data recovery
RUSTFS_SCANNER_MODE=low_load_only

# Scanner interval in seconds (default: 3600 = 1 hour)
# Increase this value to reduce scanner frequency
RUSTFS_SCANNER_INTERVAL=7200

# Write load threshold (IOPS) to pause scanner
# When write IOPS exceeds this value, scanner will pause
RUSTFS_SCANNER_WRITE_THRESHOLD=1000

# Write Buffer Pool Configuration
# Enable write buffer pool for small file optimization
RUSTFS_WRITE_BUFFER_POOL=true

# Write buffer pool size in MB (default: 16)
# Increase for better small file performance
RUSTFS_WRITE_BUFFER_SIZE_MB=32

# Optional: Region configuration
# RUSTFS_REGION=us-east-1

# Optional: TLS configuration
# RUSTFS_TLS_PATH=/path/to/certs

# Optional: License
# RUSTFS_LICENSE=your-license-key

# Optional: Observability
# RUSTFS_OBS_ENDPOINT=http://localhost:4317
